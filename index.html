<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
<title>RSTV Social Dance - Final Pro</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;background:#000;color:#fff;display:flex;overflow-x:hidden;touch-action:manipulation;}
.sidebar{position:fixed;top:0;left:0;width:230px;height:100%;background:linear-gradient(180deg,#000,#111);display:flex;flex-direction:column;align-items:center;padding-top:40px;border-right:2px solid rgba(255,215,0,0.5);z-index:1000;}
.sidebar h2{background:linear-gradient(90deg,#ffd700,#fff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:1.8em;margin-bottom:35px;letter-spacing:1px;}
.sidebar a{text-decoration:none;color:#fff;background:linear-gradient(90deg,#111,#222);padding:12px 20px;margin:8px 0;border-radius:10px;width:80%;text-align:center;transition:0.3s;font-weight:600;border:1px solid rgba(255,215,0,0.3);}
.sidebar a:hover{background:linear-gradient(90deg,#ffd700,#fff);color:#000;transform:scale(1.08);box-shadow:0 0 10px rgba(255,215,0,0.8);}
.menu-toggle{display:none;position:fixed;top:20px;left:20px;background:linear-gradient(90deg,#ffd700,#fff);border:none;color:#000;padding:10px 15px;font-size:22px;border-radius:8px;z-index:1100;cursor:pointer;box-shadow:0 0 10px rgba(255,215,0,0.7);}
.menu-toggle:hover{transform:scale(1.1);}
main{margin-left:230px;width:calc(100% - 230px);transition:margin-left 0.3s ease;}
section{min-height:100vh;padding:80px 25px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background:radial-gradient(circle at center,#111 0%,#000 100%);border-bottom:1px solid rgba(255,215,0,0.1);}
h1{font-size:2.5em;background:linear-gradient(90deg,#ffd700,#fff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:15px;}
p{max-width:650px;color:#ccc;line-height:1.7;font-size:1.1em;}
#selector-baile{margin-top:15px;padding:10px 15px;font-size:1.1rem;border-radius:10px;border:2px solid #d4af37;background:#111;color:#fff;cursor:pointer;transition:0.3s;}
#selector-baile:hover{box-shadow:0 0 10px #ffd700;}
.video-group{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;margin-top:20px;}
.video-card{background:#111;border:2px solid #d4af37;border-radius:10px;overflow:hidden;width:300px;max-width:90%;transition:0.3s;}
.video-card:hover{transform:scale(1.05);box-shadow:0 0 20px #ffd700;}
.video-card iframe{width:100%;height:350px;border:none;}
#game-container{width:100%;max-width:400px;margin-top:20px;position:relative;}
#game{position:relative;width:100%;height:500px;background:#111;overflow:hidden;border:2px solid #d4af37;}
.hit-zone{position:absolute;bottom:20px;width:100%;height:50px;display:flex;justify-content:space-around;z-index:2;}
.socket{width:22%;max-width:60px;height:50px;border:2px dashed #d4af37;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#d4af37;font-size:1.5rem;transition: transform 0.2s, background 0.2s, box-shadow 0.2s;}
.socket.active{background:#ffd700;box-shadow:0 0 30px #ffd700,0 0 60px #ffd700;color:#000;transform:scale(1.2);}
.arrow{width:22%;max-width:60px;height:50px;text-align:center;line-height:50px;font-size:2rem;font-weight:bold;color:#ffd700;border:2px solid #b8860b;border-radius:8px;position:absolute;top:0;transition: top 0.02s linear, transform 0.2s ease; z-index:2; text-shadow:0 0 10px #ffd700;}
.arrow.hit{animation:hitFlash 0.3s forwards;}
@keyframes hitFlash{0%{transform:scale(1);color:#ffd700;}50%{transform:scale(1.5);color:#fff;}100%{transform:scale(1);color:#ffd700;}}
.particles{position:absolute;width:10px;height:10px;background:radial-gradient(circle,#ffd700,#b8860b);border-radius:50%;pointer-events:none;opacity:0.8;animation:particleMove 0.8s forwards;z-index:3;}
@keyframes particleMove{0%{transform:translateY(0) scale(1);}100%{transform:translateY(-50px) translateX(30px) scale(0);opacity:0;}}
#score{margin-top:15px;font-size:1.2rem;color:#ffd700;z-index:2;}
#comboDisplay{position:absolute;top:25%;font-size:3rem;font-weight:bold;color:#ffd700;text-shadow:0 0 15px #ffd700;display:none;z-index:3;}
#controls{display:flex;justify-content:center;gap:10px;margin-top:10px;flex-wrap:wrap;z-index:2;}
#controls button{margin-top:10px;padding:10px 12px;font-size:1.3rem;border-radius:50%;border:2px solid #d4af37;background:#111;color:#fff;cursor:pointer;transition:0.3s;}
#controls button:hover{box-shadow:0 0 10px #ffd700;transform:scale(1.1);}
#chooseControls{display:flex;justify-content:center;gap:10px;margin-top:15px;flex-wrap:wrap;}
#chooseControls button{border-radius:10px;width:65px;height:65px;border:2px solid #d4af37;background:#111;color:#fff;font-size:1.5rem;transition:0.3s;touch-action:manipulation;}
#chooseControls button:hover{box-shadow:0 0 10px #ffd700;transform:scale(1.1);}
#nosotros .team{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px;}
#nosotros .member{display:flex;flex-direction:column;align-items:center;gap:8px;}
#nosotros .member img{width:120px;height:120px;border-radius:50%;border:3px solid #ffd700;object-fit:cover;transition:0.3s;}
#nosotros .member img:hover{transform:scale(1.05);box-shadow:0 0 15px #ffd700;}
#nosotros .member p{max-width:150px;text-align:center;color:#fff;}
@media(max-width:768px){.sidebar{transform:translateX(-100%)}.sidebar.active{transform:translateX(0)}.menu-toggle{display:block;} main{margin-left:0;width:100%;}}
</style>
</head>
<body>

<button class="menu-toggle">‚ò∞</button>
<div class="sidebar">
<h2>RSTV</h2>
<a href="#inicio">Inicio</a>
<a href="#coreografias">Coreograf√≠as</a>
<a href="#bailes">Bailes</a>
<a href="#juego">Juego</a>
<a href="#nosotros">Nosotros</a>
</div>

<main>
<section id="inicio">
<h1>Bienvenido a RSTV Social Dance</h1>
<p>Donde el ritmo, el arte y la comunidad brillan como el oro üñ§‚ú®</p>
</section>

<section id="coreografias">
<h1>Coreograf√≠as</h1>
<p>Selecciona un baile para ver todas las versiones:</p>
<select id="selector-baile">
<option value="">--Selecciona un baile--</option>
<option value="baile1">Baile 1</option>
<option value="baile2">Baile 2</option>
</select>
<div id="videos-coreografia" class="video-group"></div>
</section>

<section id="bailes">
<h1>Bailes</h1>
<p>Explora nuestros estilos m√°s populares: cumbia, salsa, bachata y m√°s.</p>
</section>

<section id="juego">
<h1>Juego</h1>
<p>Presiona la flecha correcta al llegar al socket üí•üéµ</p>
<div id="game-container">
<div id="controls">
<button id="startRestartBtn"><i class="fa-solid fa-play"></i></button>
<button id="pauseBtn"><i class="fa-solid fa-pause"></i></button>
<button id="musicBtn"><i class="fa-solid fa-volume-high"></i></button>
</div>

<div id="game">
<div class="hit-zone">
<div class="socket" data-key="ArrowUp">‚Üë</div>
<div class="socket" data-key="ArrowDown">‚Üì</div>
<div class="socket" data-key="ArrowLeft">‚Üê</div>
<div class="socket" data-key="ArrowRight">‚Üí</div>
</div>
<div id="comboDisplay">COMBO!</div>
</div>

<!-- botones movidos abajo -->
<div id="chooseControls">
<button data-key="ArrowUp">‚Üë</button>
<button data-key="ArrowDown">‚Üì</button>
<button data-key="ArrowLeft">‚Üê</button>
<button data-key="ArrowRight">‚Üí</button>
</div>

<div id="score">Puntaje: 0 | Combo: 0 | R√©cord: 0</div>
<audio id="music" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>
</div>
</section>

<section id="nosotros">
<h1>Nosotros</h1>
<div class="team">
<div class="member"><img src="https://via.placeholder.com/120"><p>Frase 1</p></div>
<div class="member"><img src="https://via.placeholder.com/120"><p>Frase 2</p></div>
<div class="member"><img src="https://via.placeholder.com/120"><p>Frase 3</p></div>
<div class="member"><img src="https://via.placeholder.com/120"><p>Frase 4</p></div>
<div class="member"><img src="https://via.placeholder.com/120"><p>Frase 5</p></div>
<div class="member"><img src="https://via.placeholder.com/120"><p>Frase 6</p></div>
</div>
</section>

<script>
// Men√∫ lateral
document.querySelectorAll('.sidebar a[href^="#"]').forEach(a=>{
  a.addEventListener('click', e=>{
    e.preventDefault();
    document.querySelector(a.getAttribute('href')).scrollIntoView({behavior:'smooth'});
    if(window.innerWidth<=768) document.querySelector('.sidebar').classList.remove('active');
  });
});
document.querySelector('.menu-toggle').addEventListener('click',()=>{
  document.querySelector('.sidebar').classList.toggle('active');
});

// Coreograf√≠as
const selectorBaile=document.getElementById('selector-baile');
const contVideos=document.getElementById('videos-coreografia');
const videosPorBaile={
'baile1':['https://www.instagram.com/p/VIDEO1/embed/','https://www.instagram.com/p/VIDEO2/embed/'],
'baile2':['https://www.instagram.com/p/VIDEO3/embed/','https://www.instagram.com/p/VIDEO4/embed/']
};
selectorBaile.addEventListener('change',()=>{
  const val=selectorBaile.value;
  contVideos.innerHTML='';
  if(videosPorBaile[val]){
    videosPorBaile[val].forEach(url=>{
      const card=document.createElement('div'); 
      card.className='video-card';
      card.innerHTML=`<iframe src="${url}" allowfullscreen></iframe>`;
      contVideos.appendChild(card);
    });
  }
});

// Bloquear zoom t√°ctil
document.addEventListener('gesturestart', e => e.preventDefault());
document.addEventListener('dblclick', e => e.preventDefault());

// Juego
const gameElem=document.getElementById("game");
const scoreDisplayElem=document.getElementById("score");
const comboDisplayElem=document.getElementById("comboDisplay");
const socketsElem=document.querySelectorAll(".socket");
const keysArr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];
const symbolsArr=["‚Üë","‚Üì","‚Üê","‚Üí"];
let arrowsArr=[], scoreVal=0, comboVal=0, speedVal=3, recordVal=localStorage.getItem("danceRecord")||0;
let gameStarted=false, paused=false;
const musicElem=document.getElementById("music");
const hitStartVal=gameElem.clientHeight-80;
const hitEndVal=gameElem.clientHeight-30;
const BPM=120; const msPerBeat=60000/BPM;

// Botones
const startRestartBtn=document.getElementById("startRestartBtn");
const pauseBtn=document.getElementById("pauseBtn");
const musicBtn=document.getElementById("musicBtn");
const chooseButtons=document.querySelectorAll("#chooseControls button");

startRestartBtn.addEventListener("click",()=>{
  arrowsArr.forEach(a=>a.remove());
  arrowsArr=[];
  scoreVal=0; comboVal=0; speedVal=3;
  updateScore(); updateComboDisplay();
  if(!gameStarted){ musicElem.play(); gameStarted=true; startRestartBtn.innerHTML='<i class="fa-solid fa-rotate-right"></i>'; arrowLoop();}
  else { musicElem.currentTime=0; musicElem.play(); }
});

pauseBtn.addEventListener("click",()=>{ paused=!paused; paused?musicElem.pause():musicElem.play(); });

musicBtn.addEventListener("click",()=>{ musicElem.muted=!musicElem.muted; musicBtn.innerHTML = musicElem.muted ? '<i class="fa-solid fa-xmark"></i>' : '<i class="fa-solid fa-volume-high"></i>'; });

function createArrow(){ if(paused) return; const index=Math.floor(Math.random()*4); const key=keysArr[index]; const symbol=symbolsArr[index]; const arrow=document.createElement("div"); arrow.classList.add("arrow"); arrow.textContent=symbol; arrow.dataset.key=key; const socketRect=socketsElem[index].getBoundingClientRect(); const gameRect=gameElem.getBoundingClientRect(); arrow.style.left=socketRect.left-gameRect.left+"px"; arrow.style.top="-60px"; gameElem.appendChild(arrow); arrowsArr.push(arrow);}
function moveArrows(){ arrowsArr.forEach((arrow,i)=>{let top=parseInt(arrow.style.top); arrow.style.top=top+speedVal+"px"; if(top>gameElem.clientHeight){arrow.remove();arrowsArr.splice(i,1);comboVal=0;updateComboDisplay();scoreVal-=5;updateScore();}});}
function createParticles(x,y){for(let i=0;i<12;i++){const p=document.createElement("div");p.classList.add("particles");p.style.left=x+"px";p.style.top=y+"px";gameElem.appendChild(p);setTimeout(()=>p.remove(),800);}}
function checkArrow(keyPressed){arrowsArr.forEach((arrow,i)=>{let top=parseInt(arrow.style.top);if(keyPressed===arrow.dataset.key && top>=hitStartVal && top<=hitEndVal){arrow.classList.add("hit");setTimeout(()=>arrow.remove(),300);arrowsArr.splice(i,1);scoreVal+=10+comboVal*2;comboVal+=1;updateScore();updateComboDisplay();const idx=keysArr.indexOf(keyPressed);const socket=socketsElem[idx];createParticles(parseInt(socket.offsetLeft)+socket.offsetWidth/2, top+25);socket.classList.add("active");setTimeout(()=>socket.classList.remove("active"),200);speedVal+=0.05;if(scoreVal>recordVal){recordVal=scoreVal;localStorage.setItem("danceRecord",recordVal);}}});}
function updateComboDisplay(){ if(comboVal>=3){ comboDisplayElem.style.display="block"; comboDisplayElem.textContent=`COMBO x${comboVal}!`; comboDisplayElem.style.opacity=1; setTimeout(()=>comboDisplayElem.style.opacity=0,400);}else comboDisplayElem.style.display="none";}
function updateScore(){ scoreDisplayElem.textContent=`Puntaje: ${scoreVal} | Combo: ${comboVal} | R√©cord: ${recordVal}`;}
chooseButtons.forEach(btn=>{ btn.addEventListener("click",()=>{ checkArrow(btn.dataset.key); }); });
document.addEventListener("keydown",(e)=>{ checkArrow(e.key); });
setInterval(()=>{ if(!paused) moveArrows(); },20);
function arrowLoop(){if(gameStarted && !paused){createArrow(); setTimeout(arrowLoop, msPerBeat);}}
</script>
</main>
</body>
</html>